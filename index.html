<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloudinary Upload Widget</title>
    <script src="https://widget.cloudinary.com/v2.0/global/all.js" type="text/javascript"></script>
</head>
<body>
    <button id="upload_widget" class="cloudinary-button">Upload Files</button>

    <script type="text/javascript">
        var myWidget = cloudinary.createUploadWidget({
            cloudName: 'tools010',  // Your Cloudinary cloud name
            uploadPreset: 'abrzb395'  // Your upload preset
        }, function(error, result) {  // Use function instead of arrow function
            if (!error && result && result.event === "success") {
                console.log('Done! Here is the image info: ', result.info);
            } else if (error) {
                console.error('Error:', error);
            }
        });

        document.getElementById("upload_widget").addEventListener("click", function(){
            myWidget.open();
        }, false);
    </script>
</body>
</html>
